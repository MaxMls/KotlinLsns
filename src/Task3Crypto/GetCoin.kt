import org.apache.http.NameValuePair
import org.apache.http.client.methods.HttpGet
import org.apache.http.client.utils.URIBuilder
import org.apache.http.impl.client.HttpClients
import org.apache.http.message.BasicNameValuePair
import org.apache.http.util.EntityUtils
import org.json.JSONObject
import java.io.IOException
import java.net.URISyntaxException
import java.util.*


object MyCoinTest {
    @JvmStatic
    fun main(args: Array<String>) {
        val a = GetCoin()
        val c = a.loadState(GetCoin.EIntervalType.DAY, a.coinNames()[0])
        print(c.history)
        //a.coinNames()
    }
}

class Crypto(
    val id: String,
    val name: String,
    val symbol: String,
    val priceUsd: Double,
    val rank: Int,
    val history: MutableList<Event> = mutableListOf()
) {
    class Event(val priceUsd: Double, val time: Long, val date: String) {
        override fun toString(): String {
            return "{priceUsd: $priceUsd, time: $time, date: $date}"
        }
    }

    override fun toString(): String {
        return id
    }
}

class GetCoin {

    private val baseURL = "http://api.coincap.io/v2/assets"

    public enum class EIntervalType(val value: String, val desc: String, val maxPeriod:Long = 29) {
        MINUTE_1("m1", "1 минута", 1),
        MINUTE_5("m5", "5 минут", 4),
        MINUTE_15("m15", "15 минут", 6),
        MINUTE_30("m30", "30 минут", 14),
        HOUR_1("h1", "1 час"),
        HOUR_2("h2", "2 часа"),
        HOUR_6("h6", "6 часов"),
        HOUR_12("h12", "12 часов"),
        DAY("d1", "1 день", 100)
    }

    fun loadState(interval: EIntervalType, crypto: Crypto, start: Long? = null, end: Long? = null): Crypto {
        val list = mutableListOf<Crypto.Event>()
        crypto.history.clear()

        val paratmers = ArrayList<NameValuePair>()
        paratmers.add(BasicNameValuePair("interval", interval.value))

        if (start != null)
            paratmers.add(BasicNameValuePair("start", start.toString()))
        if (end != null)
            paratmers.add(BasicNameValuePair("end", end.toString()))


        try {
            val result = makeAPICall("$baseURL/$crypto/history", paratmers)
            println(result)
            val data = JSONObject(result).getJSONArray("data");

            for (i in 0 until data.length()) {
                val info: JSONObject = data.getJSONObject(i)
                crypto.history.add(
                    Crypto.Event(
                        info.getString("priceUsd").toDouble(),
                        info.getLong("time"),
                        info.getString("date")
                    )
                )
            }

        } catch (e: IOException) {
            println("Error: cannot access content - $e")
        } catch (e: URISyntaxException) {
            println("Error: Invalid URL $e")
        }
        return crypto
    }


    fun coinNames(): List<Crypto> {
        val list = mutableListOf<Crypto>()
        try {
           // val json = makeAPICall(baseURL, ArrayList<NameValuePair>())
            val json = "{\"data\":[{\"id\":\"bitcoin\",\"rank\":\"1\",\"symbol\":\"BTC\",\"name\":\"Bitcoin\",\"supply\":\"18173175.0000000000000000\",\"maxSupply\":\"21000000.0000000000000000\",\"marketCapUsd\":\"157592249306.3729436142915575\",\"volumeUsd24Hr\":\"4896444550.2707249554463426\",\"priceUsd\":\"8671.6960193457083649\",\"changePercent24Hr\":\"0.6920700309927100\",\"vwap24Hr\":\"8664.1068207769900208\"},{\"id\":\"ethereum\",\"rank\":\"2\",\"symbol\":\"ETH\",\"name\":\"Ethereum\",\"supply\":\"109368698.1865000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"18410384084.3668736417850162\",\"volumeUsd24Hr\":\"2027058008.7695698689222240\",\"priceUsd\":\"168.3332104124777082\",\"changePercent24Hr\":\"3.0473451440426264\",\"vwap24Hr\":\"166.8734927837122403\"},{\"id\":\"ripple\",\"rank\":\"3\",\"symbol\":\"XRP\",\"name\":\"XRP\",\"supply\":\"43299885509.0000000000000000\",\"maxSupply\":\"100000000000.0000000000000000\",\"marketCapUsd\":\"10261103485.4074440514533903\",\"volumeUsd24Hr\":\"222207607.4076625567400823\",\"priceUsd\":\"0.2369776124067267\",\"changePercent24Hr\":\"3.5001876232498177\",\"vwap24Hr\":\"0.2342815654543298\"},{\"id\":\"bitcoin-cash\",\"rank\":\"4\",\"symbol\":\"BCH\",\"name\":\"Bitcoin Cash\",\"supply\":\"18234875.0000000000000000\",\"maxSupply\":\"21000000.0000000000000000\",\"marketCapUsd\":\"6287412712.6987012403939875\",\"volumeUsd24Hr\":\"474600816.2058897530399032\",\"priceUsd\":\"344.8015252475655161\",\"changePercent24Hr\":\"5.3816757000592685\",\"vwap24Hr\":\"342.6575625493488548\"},{\"id\":\"bitcoin-sv\",\"rank\":\"5\",\"symbol\":\"BSV\",\"name\":\"Bitcoin SV\",\"supply\":\"18222577.1469000000000000\",\"maxSupply\":\"21000000.0000000000000000\",\"marketCapUsd\":\"5903788475.7428706407026565\",\"volumeUsd24Hr\":\"1209673247.5214856535539960\",\"priceUsd\":\"323.9820815766015343\",\"changePercent24Hr\":\"18.7246796615220358\",\"vwap24Hr\":\"304.5431720753263996\"},{\"id\":\"tether\",\"rank\":\"6\",\"symbol\":\"USDT\",\"name\":\"Tether\",\"supply\":\"4575835582.9488200000000000\",\"maxSupply\":null,\"marketCapUsd\":\"4587312602.1155037971885342\",\"volumeUsd24Hr\":\"6315589524.4616442557878097\",\"priceUsd\":\"1.0025081799725172\",\"changePercent24Hr\":\"-0.1776292030987301\",\"vwap24Hr\":\"1.0011723314244105\"},{\"id\":\"litecoin\",\"rank\":\"7\",\"symbol\":\"LTC\",\"name\":\"Litecoin\",\"supply\":\"63905681.7739805000000000\",\"maxSupply\":\"84000000.0000000000000000\",\"marketCapUsd\":\"3685491510.2050864190606465\",\"volumeUsd24Hr\":\"264509063.6018848523572062\",\"priceUsd\":\"57.6707955834007186\",\"changePercent24Hr\":\"2.0533305455570268\",\"vwap24Hr\":\"57.4950097645846068\"},{\"id\":\"eos\",\"rank\":\"8\",\"symbol\":\"EOS\",\"name\":\"EOS\",\"supply\":\"949617906.1053000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"3477365464.8719024179585945\",\"volumeUsd24Hr\":\"518729590.8525290754271247\",\"priceUsd\":\"3.6618575139697385\",\"changePercent24Hr\":\"3.5384975437877565\",\"vwap24Hr\":\"3.6342605244101438\"},{\"id\":\"binance-coin\",\"rank\":\"9\",\"symbol\":\"BNB\",\"name\":\"Binance Coin\",\"supply\":\"155536713.0000000000000000\",\"maxSupply\":\"187536713.0000000000000000\",\"marketCapUsd\":\"2723392209.1126030035403320\",\"volumeUsd24Hr\":\"48889236.1485531762647921\",\"priceUsd\":\"17.5096422997739640\",\"changePercent24Hr\":\"2.7121428851072923\",\"vwap24Hr\":\"17.3990080885519389\"},{\"id\":\"stellar\",\"rank\":\"10\",\"symbol\":\"XLM\",\"name\":\"Stellar\",\"supply\":\"20038451354.0159000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"1280930674.4696576476829422\",\"volumeUsd24Hr\":\"28962858.5076334739210129\",\"priceUsd\":\"0.0639236362051974\",\"changePercent24Hr\":\"2.4578848126389525\",\"vwap24Hr\":\"0.0634365234719908\"},{\"id\":\"cardano\",\"rank\":\"11\",\"symbol\":\"ADA\",\"name\":\"Cardano\",\"supply\":\"25927070538.0000000000000000\",\"maxSupply\":\"45000000000.0000000000000000\",\"marketCapUsd\":\"1196666187.9951192955055196\",\"volumeUsd24Hr\":\"34389643.5245161574415364\",\"priceUsd\":\"0.0461550866782742\",\"changePercent24Hr\":\"7.6636189165370192\",\"vwap24Hr\":\"0.0448504862022042\"},{\"id\":\"monero\",\"rank\":\"12\",\"symbol\":\"XMR\",\"name\":\"Monero\",\"supply\":\"17409525.1587236000000000\",\"maxSupply\":null,\"marketCapUsd\":\"1140611945.0832201009258668\",\"volumeUsd24Hr\":\"16457430.8600364246492737\",\"priceUsd\":\"65.5165453787049422\",\"changePercent24Hr\":\"3.7338895289331356\",\"vwap24Hr\":\"65.1481126775548365\"},{\"id\":\"cosmos\",\"rank\":\"13\",\"symbol\":\"ATOM\",\"name\":\"Cosmos\",\"supply\":\"248453201.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"1135748358.1155980862673122\",\"volumeUsd24Hr\":\"8915055.3188197499866296\",\"priceUsd\":\"4.5712768181062722\",\"changePercent24Hr\":\"2.8548559087374645\",\"vwap24Hr\":\"4.5606603543375284\"},{\"id\":\"tron\",\"rank\":\"14\",\"symbol\":\"TRX\",\"name\":\"TRON\",\"supply\":\"66682072191.4000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"1130944408.0557217085910486\",\"volumeUsd24Hr\":\"96254938.2440217245897368\",\"priceUsd\":\"0.0169602468982897\",\"changePercent24Hr\":\"3.6215414539823004\",\"vwap24Hr\":\"0.0167056047697419\"},{\"id\":\"dash\",\"rank\":\"15\",\"symbol\":\"DASH\",\"name\":\"Dash\",\"supply\":\"9279164.0051121700000000\",\"maxSupply\":\"18900000.0000000000000000\",\"marketCapUsd\":\"1053898873.6795899552298081\",\"volumeUsd24Hr\":\"200381106.0577604161646854\",\"priceUsd\":\"113.5769206254965888\",\"changePercent24Hr\":\"12.3999002229391579\",\"vwap24Hr\":\"110.4250162574837961\"},{\"id\":\"ethereum-classic\",\"rank\":\"16\",\"symbol\":\"ETC\",\"name\":\"Ethereum Classic\",\"supply\":\"116313299.0000000000000000\",\"maxSupply\":\"210000000.0000000000000000\",\"marketCapUsd\":\"1047897207.8747540163620932\",\"volumeUsd24Hr\":\"690827002.3325444097431503\",\"priceUsd\":\"9.0092639180903468\",\"changePercent24Hr\":\"10.3151340177805171\",\"vwap24Hr\":\"8.7934278427206658\"},{\"id\":\"tezos\",\"rank\":\"17\",\"symbol\":\"XTZ\",\"name\":\"Tezos\",\"supply\":\"694191973.5305590000000000\",\"maxSupply\":null,\"marketCapUsd\":\"1046590665.1399849963255976\",\"volumeUsd24Hr\":\"1640480.8688237128329532\",\"priceUsd\":\"1.5076386720767999\",\"changePercent24Hr\":\"0.3826326730387035\",\"vwap24Hr\":\"1.5230165680525984\"},{\"id\":\"chainlink\",\"rank\":\"18\",\"symbol\":\"LINK\",\"name\":\"Chainlink\",\"supply\":\"350000000.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"947342250.3777537900000000\",\"volumeUsd24Hr\":\"11170479.2494063156441198\",\"priceUsd\":\"2.7066921439364394\",\"changePercent24Hr\":\"4.7058026287001280\",\"vwap24Hr\":\"2.6916459534955049\"},{\"id\":\"unus-sed-leo\",\"rank\":\"19\",\"symbol\":\"LEO\",\"name\":\"UNUS SED LEO\",\"supply\":\"999498892.9000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"886628152.0705372408881078\",\"volumeUsd24Hr\":\"116365.3137309119487635\",\"priceUsd\":\"0.8870726704839327\",\"changePercent24Hr\":\"-0.7984866793891459\",\"vwap24Hr\":\"0.8827633138578853\"},{\"id\":\"neo\",\"rank\":\"20\",\"symbol\":\"NEO\",\"name\":\"Neo\",\"supply\":\"70538831.0000000000000000\",\"maxSupply\":\"100000000.0000000000000000\",\"marketCapUsd\":\"790452838.4558937334776221\",\"volumeUsd24Hr\":\"107274440.3580327013342085\",\"priceUsd\":\"11.2059248395524691\",\"changePercent24Hr\":\"2.2279246576704591\",\"vwap24Hr\":\"11.1790347267282755\"},{\"id\":\"huobi-token\",\"rank\":\"21\",\"symbol\":\"HT\",\"name\":\"Huobi Token\",\"supply\":\"236468065.9719210000000000\",\"maxSupply\":null,\"marketCapUsd\":\"769744382.1468218672002215\",\"volumeUsd24Hr\":\"24323326.9467386159181847\",\"priceUsd\":\"3.2551726550604252\",\"changePercent24Hr\":\"5.0776734721236874\",\"vwap24Hr\":\"3.1989801732215610\"},{\"id\":\"iota\",\"rank\":\"22\",\"symbol\":\"MIOTA\",\"name\":\"IOTA\",\"supply\":\"2779530283.0000000000000000\",\"maxSupply\":\"2779530283.0000000000000000\",\"marketCapUsd\":\"685151785.9179007062753429\",\"volumeUsd24Hr\":\"11361222.3140172683835433\",\"priceUsd\":\"0.2464991261683263\",\"changePercent24Hr\":\"2.7800500284576825\",\"vwap24Hr\":\"0.2489155430667459\"},{\"id\":\"maker\",\"rank\":\"23\",\"symbol\":\"MKR\",\"name\":\"Maker\",\"supply\":\"988907.4808434330000000\",\"maxSupply\":null,\"marketCapUsd\":\"467008036.5757839858891602\",\"volumeUsd24Hr\":\"1013108.8986397581503297\",\"priceUsd\":\"472.2464392497827551\",\"changePercent24Hr\":\"2.4757658616971860\",\"vwap24Hr\":\"474.5868830800439578\"},{\"id\":\"zcash\",\"rank\":\"24\",\"symbol\":\"ZEC\",\"name\":\"Zcash\",\"supply\":\"8626781.2500000000000000\",\"maxSupply\":\"21000000.0000000000000000\",\"marketCapUsd\":\"463876149.9657453410740500\",\"volumeUsd24Hr\":\"137428826.2777839361227476\",\"priceUsd\":\"53.7716370130221328\",\"changePercent24Hr\":\"8.2129431352524501\",\"vwap24Hr\":\"53.4149925657943711\"},{\"id\":\"usd-coin\",\"rank\":\"25\",\"symbol\":\"USDC\",\"name\":\"USD Coin\",\"supply\":\"438048265.5082910000000000\",\"maxSupply\":null,\"marketCapUsd\":\"439403898.6192662282209255\",\"volumeUsd24Hr\":\"18397558.2821977341895801\",\"priceUsd\":\"1.0030947117423287\",\"changePercent24Hr\":\"-0.1332162227445004\",\"vwap24Hr\":\"1.0045158158757459\"},{\"id\":\"ontology\",\"rank\":\"26\",\"symbol\":\"ONT\",\"name\":\"Ontology\",\"supply\":\"637351170.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"417552998.8384084824200730\",\"volumeUsd24Hr\":\"21404740.1647254909765103\",\"priceUsd\":\"0.6551380439741069\",\"changePercent24Hr\":\"3.0908227139483879\",\"vwap24Hr\":\"0.6556232828131264\"},{\"id\":\"nem\",\"rank\":\"27\",\"symbol\":\"XEM\",\"name\":\"NEM\",\"supply\":\"8999999999.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"360354958.8180261601268816\",\"volumeUsd24Hr\":\"21051695.6114262389971772\",\"priceUsd\":\"0.0400394398731184\",\"changePercent24Hr\":\"10.3624893665777422\",\"vwap24Hr\":\"0.0371924456026513\"},{\"id\":\"vechain\",\"rank\":\"28\",\"symbol\":\"VET\",\"name\":\"VeChain\",\"supply\":\"55454734800.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"326714937.7747745440951200\",\"volumeUsd24Hr\":\"5724867.5701144736001898\",\"priceUsd\":\"0.0058915607288194\",\"changePercent24Hr\":\"1.1076143621948722\",\"vwap24Hr\":\"0.0058883706797417\"},{\"id\":\"basic-attention-token\",\"rank\":\"29\",\"symbol\":\"BAT\",\"name\":\"Basic Attention Token\",\"supply\":\"1421667363.2563000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"317503409.4439268819405056\",\"volumeUsd24Hr\":\"3031333.0311699363897021\",\"priceUsd\":\"0.2233317143306236\",\"changePercent24Hr\":\"5.1772721743282699\",\"vwap24Hr\":\"0.2216178153692086\"},{\"id\":\"dogecoin\",\"rank\":\"30\",\"symbol\":\"DOGE\",\"name\":\"Dogecoin\",\"supply\":\"122991478704.4960000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"293895919.4460724458759024\",\"volumeUsd24Hr\":\"885181.2660567916803325\",\"priceUsd\":\"0.0023895632652096\",\"changePercent24Hr\":\"0.3764281273726305\",\"vwap24Hr\":\"0.0023847994094080\"},{\"id\":\"paxos-standard-token\",\"rank\":\"31\",\"symbol\":\"PAX\",\"name\":\"Paxos Standard Token\",\"supply\":\"237000555.4098950000000000\",\"maxSupply\":null,\"marketCapUsd\":\"240023530.2442428993466232\",\"volumeUsd24Hr\":\"237929855.7316110296991161\",\"priceUsd\":\"1.0127551381857297\",\"changePercent24Hr\":\"-0.1032420735419185\",\"vwap24Hr\":null},{\"id\":\"decred\",\"rank\":\"32\",\"symbol\":\"DCR\",\"name\":\"Decred\",\"supply\":\"10786830.8782284000000000\",\"maxSupply\":\"21000000.0000000000000000\",\"marketCapUsd\":\"209643188.1498955522364351\",\"volumeUsd24Hr\":\"599433.8420662924488970\",\"priceUsd\":\"19.4351047602895934\",\"changePercent24Hr\":\"5.6303528315701794\",\"vwap24Hr\":\"19.1376349053232697\"},{\"id\":\"bitcoin-gold\",\"rank\":\"33\",\"symbol\":\"BTG\",\"name\":\"Bitcoin Gold\",\"supply\":\"17513923.5890000000000000\",\"maxSupply\":\"21000000.0000000000000000\",\"marketCapUsd\":\"199023785.4148008300040110\",\"volumeUsd24Hr\":\"13162800.8535589554306418\",\"priceUsd\":\"11.3637463589142321\",\"changePercent24Hr\":\"10.0072148809153682\",\"vwap24Hr\":\"11.3914290510607881\"},{\"id\":\"qtum\",\"rank\":\"34\",\"symbol\":\"QTUM\",\"name\":\"Qtum\",\"supply\":\"96325748.0484598000000000\",\"maxSupply\":\"107822406.0000000000000000\",\"marketCapUsd\":\"187196618.5727293773439580\",\"volumeUsd24Hr\":\"69226169.9370944059245285\",\"priceUsd\":\"1.9433705147927222\",\"changePercent24Hr\":\"3.9848979352916173\",\"vwap24Hr\":\"1.9265610882008018\"},{\"id\":\"augur\",\"rank\":\"35\",\"symbol\":\"REP\",\"name\":\"Augur\",\"supply\":\"11000000.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"158872422.4715614327000000\",\"volumeUsd24Hr\":\"2740757.7972471108862495\",\"priceUsd\":\"14.4429474974146757\",\"changePercent24Hr\":\"8.9062661046222015\",\"vwap24Hr\":\"14.0452102249374468\"},{\"id\":\"ravencoin\",\"rank\":\"36\",\"symbol\":\"RVN\",\"name\":\"Ravencoin\",\"supply\":\"5338465000.0000000000000000\",\"maxSupply\":\"21000000000.0000000000000000\",\"marketCapUsd\":\"143994663.5297971041505000\",\"volumeUsd24Hr\":\"2458404.6491340432275619\",\"priceUsd\":\"0.0269730462838657\",\"changePercent24Hr\":\"5.0911296638007056\",\"vwap24Hr\":\"0.0265008432948737\"},{\"id\":\"0x\",\"rank\":\"37\",\"symbol\":\"ZRX\",\"name\":\"0x\",\"supply\":\"604852000.1807830000000000\",\"maxSupply\":null,\"marketCapUsd\":\"143751878.1554576530777335\",\"volumeUsd24Hr\":\"3061566.8018807734624142\",\"priceUsd\":\"0.2376645495302850\",\"changePercent24Hr\":\"2.9695506927123363\",\"vwap24Hr\":\"0.2321435597769130\"},{\"id\":\"trueusd\",\"rank\":\"38\",\"symbol\":\"TUSD\",\"name\":\"TrueUSD\",\"supply\":\"139614771.7400000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"139847604.0314361429049702\",\"volumeUsd24Hr\":\"336178324.7732137964161800\",\"priceUsd\":\"1.0016676766257208\",\"changePercent24Hr\":\"-0.1681762922522708\",\"vwap24Hr\":\"1.0033484032506014\"},{\"id\":\"algorand\",\"rank\":\"39\",\"symbol\":\"ALGO\",\"name\":\"Algorand\",\"supply\":\"525249467.2586540000000000\",\"maxSupply\":null,\"marketCapUsd\":\"126455683.7402894044184195\",\"volumeUsd24Hr\":\"5375717.0513379872428297\",\"priceUsd\":\"0.2407535687761441\",\"changePercent24Hr\":\"1.1140401592076699\",\"vwap24Hr\":\"0.2382306869317215\"},{\"id\":\"bitcoin-diamond\",\"rank\":\"40\",\"symbol\":\"BCD\",\"name\":\"Bitcoin Diamond\",\"supply\":\"186492897.9530000000000000\",\"maxSupply\":\"210000000.0000000000000000\",\"marketCapUsd\":\"117393403.4901981690630933\",\"volumeUsd24Hr\":\"3585998.6143088841933885\",\"priceUsd\":\"0.6294792175934962\",\"changePercent24Hr\":\"11.9098004533015375\",\"vwap24Hr\":\"0.6000103304983367\"},{\"id\":\"omisego\",\"rank\":\"41\",\"symbol\":\"OMG\",\"name\":\"OmiseGO\",\"supply\":\"140245398.2451330000000000\",\"maxSupply\":null,\"marketCapUsd\":\"112140905.5531534861103956\",\"volumeUsd24Hr\":\"24984605.9014472261259512\",\"priceUsd\":\"0.7996048851253140\",\"changePercent24Hr\":\"5.2762637657246967\",\"vwap24Hr\":\"0.7849176866230632\"},{\"id\":\"holo\",\"rank\":\"42\",\"symbol\":\"HOT\",\"name\":\"Holo\",\"supply\":\"162017160156.0440000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"109548982.3427220564926781\",\"volumeUsd24Hr\":\"347653.8459770848319153\",\"priceUsd\":\"0.0006761566628943\",\"changePercent24Hr\":\"0.4380589468614384\",\"vwap24Hr\":\"0.0006795212221628\"},{\"id\":\"dai\",\"rank\":\"43\",\"symbol\":\"DAI\",\"name\":\"Dai\",\"supply\":\"101700451.6481520000000000\",\"maxSupply\":null,\"marketCapUsd\":\"101798569.4755744205929463\",\"volumeUsd24Hr\":\"918684.1476730068125289\",\"priceUsd\":\"1.0009647727795927\",\"changePercent24Hr\":\"-0.0152672705370243\",\"vwap24Hr\":null},{\"id\":\"nano\",\"rank\":\"44\",\"symbol\":\"NANO\",\"name\":\"Nano\",\"supply\":\"133248297.1970000000000000\",\"maxSupply\":\"133248297.1970000000000000\",\"marketCapUsd\":\"92216968.5790008886829603\",\"volumeUsd24Hr\":\"774362.4656599758561262\",\"priceUsd\":\"0.6920686456702960\",\"changePercent24Hr\":\"3.2505656088997055\",\"vwap24Hr\":\"0.6911305091335335\"},{\"id\":\"waves\",\"rank\":\"45\",\"symbol\":\"WAVES\",\"name\":\"Waves\",\"supply\":\"100926964.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"88422472.0183048103660048\",\"volumeUsd24Hr\":\"2727275.5403397128629650\",\"priceUsd\":\"0.8761035556197332\",\"changePercent24Hr\":\"1.1965656368272136\",\"vwap24Hr\":\"0.8716646230187469\"},{\"id\":\"digibyte\",\"rank\":\"46\",\"symbol\":\"DGB\",\"name\":\"DigiByte\",\"supply\":\"12735484881.0120000000000000\",\"maxSupply\":\"21000000000.0000000000000000\",\"marketCapUsd\":\"86486995.5903796162221993\",\"volumeUsd24Hr\":\"240666.0089591946015137\",\"priceUsd\":\"0.0067910249510270\",\"changePercent24Hr\":\"3.0568907067550977\",\"vwap24Hr\":\"0.0067624212792560\"},{\"id\":\"zencash\",\"rank\":\"47\",\"symbol\":\"ZEN\",\"name\":\"Horizen\",\"supply\":\"7886675.0000000000000000\",\"maxSupply\":\"21000000.0000000000000000\",\"marketCapUsd\":\"85454699.0833498733101700\",\"volumeUsd24Hr\":\"255304.5558508608107455\",\"priceUsd\":\"10.8353265581946604\",\"changePercent24Hr\":\"0.9505794662190065\",\"vwap24Hr\":null},{\"id\":\"lisk\",\"rank\":\"48\",\"symbol\":\"LSK\",\"name\":\"Lisk\",\"supply\":\"121563481.4610100000000000\",\"maxSupply\":null,\"marketCapUsd\":\"84849311.0634150792969551\",\"volumeUsd24Hr\":\"423206.2052186669048842\",\"priceUsd\":\"0.6979835559466883\",\"changePercent24Hr\":\"2.0647545140483807\",\"vwap24Hr\":\"0.6893133162945489\"},{\"id\":\"seele\",\"rank\":\"49\",\"symbol\":\"SEELE\",\"name\":\"Seele\",\"supply\":\"699587206.2894780000000000\",\"maxSupply\":null,\"marketCapUsd\":\"83591752.3348824908130375\",\"volumeUsd24Hr\":\"38700719.3512107741345131\",\"priceUsd\":\"0.1194872513153043\",\"changePercent24Hr\":\"-1.0675222865838700\",\"vwap24Hr\":\"0.1194082227498330\"},{\"id\":\"icon\",\"rank\":\"50\",\"symbol\":\"ICX\",\"name\":\"ICON\",\"supply\":\"516839243.1873940000000000\",\"maxSupply\":null,\"marketCapUsd\":\"81627305.8598647441192981\",\"volumeUsd24Hr\":\"2479166.3418834661650143\",\"priceUsd\":\"0.1579355804262498\",\"changePercent24Hr\":\"9.7086848185755555\",\"vwap24Hr\":\"0.1519642410223796\"},{\"id\":\"theta-token\",\"rank\":\"51\",\"symbol\":\"THETA\",\"name\":\"Theta Token\",\"supply\":\"706502689.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"79403743.3448608985971696\",\"volumeUsd24Hr\":\"1410299.7091783660765025\",\"priceUsd\":\"0.1123898671316464\",\"changePercent24Hr\":\"1.9102591139787367\",\"vwap24Hr\":null},{\"id\":\"crypto-com\",\"rank\":\"52\",\"symbol\":\"MCO\",\"name\":\"MCO\",\"supply\":\"15793831.0949625000000000\",\"maxSupply\":null,\"marketCapUsd\":\"79230847.4127450216447781\",\"volumeUsd24Hr\":\"8195642.2900666859615006\",\"priceUsd\":\"5.0165692501305772\",\"changePercent24Hr\":\"3.8165055761929244\",\"vwap24Hr\":\"5.0074068760727619\"},{\"id\":\"bytom\",\"rank\":\"53\",\"symbol\":\"BTM\",\"name\":\"Bytom\",\"supply\":\"1002499275.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"78848821.6467844150832100\",\"volumeUsd24Hr\":\"2994760.5852901442962130\",\"priceUsd\":\"0.0786522480495404\",\"changePercent24Hr\":\"0.4290411869833286\",\"vwap24Hr\":\"0.0789007683813026\"},{\"id\":\"monacoin\",\"rank\":\"54\",\"symbol\":\"MONA\",\"name\":\"MonaCoin\",\"supply\":\"65729674.8711679000000000\",\"maxSupply\":null,\"marketCapUsd\":\"76075891.4721344665188473\",\"volumeUsd24Hr\":\"3486979.7171393539446718\",\"priceUsd\":\"1.1574055648570521\",\"changePercent24Hr\":\"3.1885708974400778\",\"vwap24Hr\":\"1.1403079808848675\"},{\"id\":\"komodo\",\"rank\":\"55\",\"symbol\":\"KMD\",\"name\":\"Komodo\",\"supply\":\"117965838.6852000000000000\",\"maxSupply\":\"200000000.0000000000000000\",\"marketCapUsd\":\"72242897.2614572331361529\",\"volumeUsd24Hr\":\"380825.0175625708287487\",\"priceUsd\":\"0.6124052358432546\",\"changePercent24Hr\":\"1.3391045796756262\",\"vwap24Hr\":\"0.6098908361251357\"},{\"id\":\"iostoken\",\"rank\":\"56\",\"symbol\":\"IOST\",\"name\":\"IOST\",\"supply\":\"12013965608.8475000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"65553870.2687886242806707\",\"volumeUsd24Hr\":\"8007629.9475820978471726\",\"priceUsd\":\"0.0054564722759413\",\"changePercent24Hr\":\"3.1776342816485610\",\"vwap24Hr\":\"0.0053996751742455\"},{\"id\":\"hypercash\",\"rank\":\"57\",\"symbol\":\"HC\",\"name\":\"HyperCash\",\"supply\":\"44488144.7050520000000000\",\"maxSupply\":\"84000000.0000000000000000\",\"marketCapUsd\":\"63212319.0190144150830598\",\"volumeUsd24Hr\":\"908611.0409028957860624\",\"priceUsd\":\"1.4208800892484988\",\"changePercent24Hr\":\"1.7849892199795986\",\"vwap24Hr\":\"1.4185686841286673\"},{\"id\":\"dxchain-token\",\"rank\":\"58\",\"symbol\":\"DX\",\"name\":\"DxChain Token\",\"supply\":\"49999999999.6862000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"62917376.5142451305449941\",\"volumeUsd24Hr\":\"1273031.8070017751375305\",\"priceUsd\":\"0.0012583475302928\",\"changePercent24Hr\":\"-1.3210294153462815\",\"vwap24Hr\":\"0.0012999650212867\"},{\"id\":\"digixdao\",\"rank\":\"59\",\"symbol\":\"DGD\",\"name\":\"DigixDAO\",\"supply\":\"2000000.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"62569112.9025962018000000\",\"volumeUsd24Hr\":\"1108917.8642351776613860\",\"priceUsd\":\"31.2845564512981009\",\"changePercent24Hr\":\"2.3045538925344792\",\"vwap24Hr\":\"31.1550808730724139\"},{\"id\":\"steem\",\"rank\":\"60\",\"symbol\":\"STEEM\",\"name\":\"Steem\",\"supply\":\"357511225.7600000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"62408269.4165531565494234\",\"volumeUsd24Hr\":\"3320012.9537851600159747\",\"priceUsd\":\"0.1745631043721360\",\"changePercent24Hr\":\"8.3514724338664984\",\"vwap24Hr\":\"0.1773918100690886\"},{\"id\":\"verge\",\"rank\":\"61\",\"symbol\":\"XVG\",\"name\":\"Verge\",\"supply\":\"16152574359.1206000000000000\",\"maxSupply\":\"16555000000.0000000000000000\",\"marketCapUsd\":\"62247477.4329049615559606\",\"volumeUsd24Hr\":\"541710.0765299687155592\",\"priceUsd\":\"0.0038537186735040\",\"changePercent24Hr\":\"3.1082874041998041\",\"vwap24Hr\":\"0.0037696758912932\"},{\"id\":\"enjin-coin\",\"rank\":\"62\",\"symbol\":\"ENJ\",\"name\":\"Enjin Coin\",\"supply\":\"799438520.5642640000000000\",\"maxSupply\":null,\"marketCapUsd\":\"61111839.9107672804947717\",\"volumeUsd24Hr\":\"693717.2624371274010956\",\"priceUsd\":\"0.0764434516710966\",\"changePercent24Hr\":\"1.5561960668892430\",\"vwap24Hr\":\"0.0762415267814752\"},{\"id\":\"siacoin\",\"rank\":\"63\",\"symbol\":\"SC\",\"name\":\"Siacoin\",\"supply\":\"41817047634.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"60733424.5510727574249372\",\"volumeUsd24Hr\":\"330505.9051338000370267\",\"priceUsd\":\"0.0014523604124958\",\"changePercent24Hr\":\"-0.2123751855488859\",\"vwap24Hr\":\"0.0015042554754708\"},{\"id\":\"abbc-coin\",\"rank\":\"64\",\"symbol\":\"ABBC\",\"name\":\"ABBC Coin\",\"supply\":\"555416914.3507220000000000\",\"maxSupply\":null,\"marketCapUsd\":\"59098534.4784144514870692\",\"volumeUsd24Hr\":\"6947408.3314265351606751\",\"priceUsd\":\"0.1064039156018505\",\"changePercent24Hr\":\"1.8237881503705901\",\"vwap24Hr\":\"0.1057253045909602\"},{\"id\":\"v-systems\",\"rank\":\"65\",\"symbol\":\"VSYS\",\"name\":\"V Systems\",\"supply\":\"1904014575.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"57221178.8011521135977250\",\"volumeUsd24Hr\":\"620792.2273284931177353\",\"priceUsd\":\"0.0300529100735230\",\"changePercent24Hr\":\"-0.4381019739766560\",\"vwap24Hr\":\"0.0304115469445900\"},{\"id\":\"nexo\",\"rank\":\"66\",\"symbol\":\"NEXO\",\"name\":\"Nexo\",\"supply\":\"560000011.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"57152918.5286261759031704\",\"volumeUsd24Hr\":\"126342.8981467445276565\",\"priceUsd\":\"0.1020587810821064\",\"changePercent24Hr\":\"-8.1229576992139356\",\"vwap24Hr\":\"0.1064036880676913\"},{\"id\":\"aeternity\",\"rank\":\"67\",\"symbol\":\"AE\",\"name\":\"Aeternity\",\"supply\":\"298669822.5000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"51594498.6372535717564508\",\"volumeUsd24Hr\":\"1056466.7416630697486115\",\"priceUsd\":\"0.1727476120800707\",\"changePercent24Hr\":\"11.9790365139230792\",\"vwap24Hr\":\"0.1618255207632443\"},{\"id\":\"bitshares\",\"rank\":\"68\",\"symbol\":\"BTS\",\"name\":\"BitShares\",\"supply\":\"2747380000.0000000000000000\",\"maxSupply\":\"3600570502.0000000000000000\",\"marketCapUsd\":\"51542299.5269791766080000\",\"volumeUsd24Hr\":\"360628.0118017448740079\",\"priceUsd\":\"0.0187605280401616\",\"changePercent24Hr\":\"2.4758755789122083\",\"vwap24Hr\":\"0.0186669490380539\"},{\"id\":\"zilliqa\",\"rank\":\"69\",\"symbol\":\"ZIL\",\"name\":\"Zilliqa\",\"supply\":\"9841650654.3529500000000000\",\"maxSupply\":\"21000000000.0000000000000000\",\"marketCapUsd\":\"50162987.1794882950643922\",\"volumeUsd24Hr\":\"1757443.2096768855214664\",\"priceUsd\":\"0.0050970095303374\",\"changePercent24Hr\":\"1.1327224661880783\",\"vwap24Hr\":\"0.0050744340544399\"},{\"id\":\"zcoin\",\"rank\":\"70\",\"symbol\":\"XZC\",\"name\":\"Zcoin\",\"supply\":\"9295418.3297779900000000\",\"maxSupply\":\"21400000.0000000000000000\",\"marketCapUsd\":\"49697399.3055317432789788\",\"volumeUsd24Hr\":\"501976.2139989011118677\",\"priceUsd\":\"5.3464403152599918\",\"changePercent24Hr\":\"6.2912357747761129\",\"vwap24Hr\":\"5.2538180281489429\"},{\"id\":\"kyber-network\",\"rank\":\"71\",\"symbol\":\"KNC\",\"name\":\"Kyber Network\",\"supply\":\"173833893.3281660000000000\",\"maxSupply\":null,\"marketCapUsd\":\"45381769.0559252264749056\",\"volumeUsd24Hr\":\"1719721.8346756802079416\",\"priceUsd\":\"0.2610639857801085\",\"changePercent24Hr\":\"-0.2869971025873313\",\"vwap24Hr\":\"0.2635881983546696\"},{\"id\":\"ardor\",\"rank\":\"72\",\"symbol\":\"ARDR\",\"name\":\"Ardor\",\"supply\":\"998999495.0000000000000000\",\"maxSupply\":\"998999495.0000000000000000\",\"marketCapUsd\":\"44262536.5137417305959830\",\"volumeUsd24Hr\":\"129118.9782362531955027\",\"priceUsd\":\"0.0443068657544634\",\"changePercent24Hr\":\"3.0178824791240970\",\"vwap24Hr\":\"0.0435105853821464\"},{\"id\":\"rlc\",\"rank\":\"73\",\"symbol\":\"RLC\",\"name\":\"iExec RLC\",\"supply\":\"80070793.2387674000000000\",\"maxSupply\":null,\"marketCapUsd\":\"39864781.3359762701859342\",\"volumeUsd24Hr\":\"380247.8037302251876552\",\"priceUsd\":\"0.4978691945401532\",\"changePercent24Hr\":\"3.2726261338294952\",\"vwap24Hr\":\"0.4943200585495644\"},{\"id\":\"decentraland\",\"rank\":\"74\",\"symbol\":\"MANA\",\"name\":\"Decentraland\",\"supply\":\"1050141509.4260000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"36633132.8647825472533318\",\"volumeUsd24Hr\":\"4256172.4738897704366555\",\"priceUsd\":\"0.0348839966194708\",\"changePercent24Hr\":\"-1.5426829772568093\",\"vwap24Hr\":\"0.0351512738498297\"},{\"id\":\"status\",\"rank\":\"75\",\"symbol\":\"SNT\",\"name\":\"Status\",\"supply\":\"3470483788.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"36438982.0817662469178216\",\"volumeUsd24Hr\":\"565050.7317890161494001\",\"priceUsd\":\"0.0104996837062782\",\"changePercent24Hr\":\"5.0517661926639993\",\"vwap24Hr\":\"0.0103169923306567\"},{\"id\":\"stratis\",\"rank\":\"76\",\"symbol\":\"STRAT\",\"name\":\"Stratis\",\"supply\":\"99651114.1700453000000000\",\"maxSupply\":null,\"marketCapUsd\":\"34503883.8714352521325326\",\"volumeUsd24Hr\":\"632252.5670529186969168\",\"priceUsd\":\"0.3462468448928489\",\"changePercent24Hr\":\"5.4652352013787321\",\"vwap24Hr\":\"0.3413078413494072\"},{\"id\":\"crypterium\",\"rank\":\"77\",\"symbol\":\"CRPT\",\"name\":\"Crypterium\",\"supply\":\"83871024.0000001000000000\",\"maxSupply\":null,\"marketCapUsd\":\"34448402.8545351578898442\",\"volumeUsd24Hr\":\"231211.7536372651164177\",\"priceUsd\":\"0.4107306816062615\",\"changePercent24Hr\":\"-5.3175554485544836\",\"vwap24Hr\":null},{\"id\":\"grin\",\"rank\":\"78\",\"symbol\":\"GRIN\",\"name\":\"Grin\",\"supply\":\"31908540.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"33272925.6880355074282500\",\"volumeUsd24Hr\":\"1280988.7622552791640349\",\"priceUsd\":\"1.0427592640727375\",\"changePercent24Hr\":\"1.2422630999313152\",\"vwap24Hr\":\"1.0398787902400654\"},{\"id\":\"aelf\",\"rank\":\"79\",\"symbol\":\"ELF\",\"name\":\"aelf\",\"supply\":\"544480199.9864660000000000\",\"maxSupply\":\"1000000000.0000000000000000\",\"marketCapUsd\":\"33197318.9414708015158925\",\"volumeUsd24Hr\":\"1200221.5779367053041829\",\"priceUsd\":\"0.0609706632900443\",\"changePercent24Hr\":\"2.5642047261687547\",\"vwap24Hr\":\"0.0606243197100922\"},{\"id\":\"golem-network-tokens\",\"rank\":\"80\",\"symbol\":\"GNT\",\"name\":\"Golem\",\"supply\":\"980050000.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"31496011.7554020255750000\",\"volumeUsd24Hr\":\"738724.8035332121033608\",\"priceUsd\":\"0.0321371478551115\",\"changePercent24Hr\":\"2.0538620919120335\",\"vwap24Hr\":\"0.0319906425196576\"},{\"id\":\"pundi-x\",\"rank\":\"81\",\"symbol\":\"NPXS\",\"name\":\"Pundi X\",\"supply\":\"233938799745.0470000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"30322563.0947305917391569\",\"volumeUsd24Hr\":\"105615.1597353647043843\",\"priceUsd\":\"0.0001296175030725\",\"changePercent24Hr\":\"1.7349207143347117\",\"vwap24Hr\":\"0.0001283129080627\"},{\"id\":\"enigma-project\",\"rank\":\"82\",\"symbol\":\"ENG\",\"name\":\"Enigma\",\"supply\":\"74836171.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"29518448.0685413916092121\",\"volumeUsd24Hr\":\"204678.7447348030829476\",\"priceUsd\":\"0.3944409190649451\",\"changePercent24Hr\":\"2.8204980401923485\",\"vwap24Hr\":\"0.3873427645514768\"},{\"id\":\"metaverse\",\"rank\":\"83\",\"symbol\":\"ETP\",\"name\":\"Metaverse ETP\",\"supply\":\"77433032.5145511000000000\",\"maxSupply\":\"100000000.0000000000000000\",\"marketCapUsd\":\"28056417.8216399329264650\",\"volumeUsd24Hr\":\"197347.2922843635669548\",\"priceUsd\":\"0.3623313837846608\",\"changePercent24Hr\":\"2.5418797076899046\",\"vwap24Hr\":\"0.3615562180366994\"},{\"id\":\"gxchain\",\"rank\":\"84\",\"symbol\":\"GXC\",\"name\":\"GXChain\",\"supply\":\"65000000.0000000000000000\",\"maxSupply\":\"100000000.0000000000000000\",\"marketCapUsd\":\"27731498.0846815860000000\",\"volumeUsd24Hr\":\"433639.0796377105193741\",\"priceUsd\":\"0.4266384320720244\",\"changePercent24Hr\":\"3.3929106600688301\",\"vwap24Hr\":\"0.4177326885458811\"},{\"id\":\"elastos\",\"rank\":\"85\",\"symbol\":\"ELA\",\"name\":\"Elastos\",\"supply\":\"17365457.6427953000000000\",\"maxSupply\":null,\"marketCapUsd\":\"27584442.9491828981045024\",\"volumeUsd24Hr\":\"2179334.0803098798038939\",\"priceUsd\":\"1.5884662251113964\",\"changePercent24Hr\":\"-3.2625076349279536\",\"vwap24Hr\":\"1.5821537819349413\"},{\"id\":\"ethlend\",\"rank\":\"86\",\"symbol\":\"LEND\",\"name\":\"ETHLend\",\"supply\":\"1128357876.8491700000000000\",\"maxSupply\":null,\"marketCapUsd\":\"26034487.3241474087448559\",\"volumeUsd24Hr\":\"1986612.8297251654595734\",\"priceUsd\":\"0.0230728989962353\",\"changePercent24Hr\":\"-8.5491358795207018\",\"vwap24Hr\":null},{\"id\":\"aion\",\"rank\":\"87\",\"symbol\":\"AION\",\"name\":\"Aion\",\"supply\":\"362749958.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"25802973.0062891078745292\",\"volumeUsd24Hr\":\"3982106.6065611441133418\",\"priceUsd\":\"0.0711315671779874\",\"changePercent24Hr\":\"4.3761447060694717\",\"vwap24Hr\":\"0.0701837651912389\"},{\"id\":\"dragon-coins\",\"rank\":\"88\",\"symbol\":\"DRG\",\"name\":\"Dragon Coins\",\"supply\":\"348657484.0176100000000000\",\"maxSupply\":null,\"marketCapUsd\":\"25388335.9770655883208124\",\"volumeUsd24Hr\":\"150484.4518144471917978\",\"priceUsd\":\"0.0728174129076870\",\"changePercent24Hr\":\"6.5090172094400535\",\"vwap24Hr\":\"0.0723818959293347\"},{\"id\":\"ripio-credit-network\",\"rank\":\"89\",\"symbol\":\"RCN\",\"name\":\"Ripio Credit Network\",\"supply\":\"509235326.7610900000000000\",\"maxSupply\":null,\"marketCapUsd\":\"24766527.9109569705094088\",\"volumeUsd24Hr\":\"143891.8199272140549336\",\"priceUsd\":\"0.0486347403831555\",\"changePercent24Hr\":\"-3.2076553128935568\",\"vwap24Hr\":\"0.0497787878740208\"},{\"id\":\"loopring\",\"rank\":\"90\",\"symbol\":\"LRC\",\"name\":\"Loopring\",\"supply\":\"949826631.9225850000000000\",\"maxSupply\":null,\"marketCapUsd\":\"24163511.4143446221058583\",\"volumeUsd24Hr\":\"535925.6642811686983067\",\"priceUsd\":\"0.0254399177726089\",\"changePercent24Hr\":\"-0.6398639859461452\",\"vwap24Hr\":\"0.0254944535631218\"},{\"id\":\"iotex\",\"rank\":\"91\",\"symbol\":\"IOTX\",\"name\":\"IoTeX\",\"supply\":\"5399999998.8888900000000000\",\"maxSupply\":null,\"marketCapUsd\":\"22998155.9227054938828638\",\"volumeUsd24Hr\":\"1152590.5587998304757935\",\"priceUsd\":\"0.0042589177643403\",\"changePercent24Hr\":\"6.8503776776439453\",\"vwap24Hr\":\"0.0042319629429869\"},{\"id\":\"nebulas-token\",\"rank\":\"92\",\"symbol\":\"NAS\",\"name\":\"Nebulas\",\"supply\":\"51952589.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"22134930.5042896854590299\",\"volumeUsd24Hr\":\"2626891.0045070043204470\",\"priceUsd\":\"0.4260602008552391\",\"changePercent24Hr\":\"1.7287646240044306\",\"vwap24Hr\":\"0.4236801415667010\"},{\"id\":\"waltonchain\",\"rank\":\"93\",\"symbol\":\"WTC\",\"name\":\"Waltonchain\",\"supply\":\"48122201.4106683000000000\",\"maxSupply\":\"100000000.0000000000000000\",\"marketCapUsd\":\"22008710.9891282539836487\",\"volumeUsd24Hr\":\"2568094.9259467114993632\",\"priceUsd\":\"0.4573504607843876\",\"changePercent24Hr\":\"-7.3269743602769220\",\"vwap24Hr\":\"0.4820224591655750\"},{\"id\":\"truechain\",\"rank\":\"94\",\"symbol\":\"TRUE\",\"name\":\"TrueChain\",\"supply\":\"79575542.9600000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"20885341.5982435346697572\",\"volumeUsd24Hr\":\"10517899.1059464363178482\",\"priceUsd\":\"0.2624593037177504\",\"changePercent24Hr\":\"3.5664778721647174\",\"vwap24Hr\":\"0.2618306764982484\"},{\"id\":\"wanchain\",\"rank\":\"95\",\"symbol\":\"WAN\",\"name\":\"Wanchain\",\"supply\":\"106152492.6360000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"20319304.0188600691740374\",\"volumeUsd24Hr\":\"1033902.6789266632596484\",\"priceUsd\":\"0.1914161741687551\",\"changePercent24Hr\":\"6.1934062802047456\",\"vwap24Hr\":\"0.1883783503884647\"},{\"id\":\"nuls\",\"rank\":\"96\",\"symbol\":\"NULS\",\"name\":\"NULS\",\"supply\":\"73770500.1589831000000000\",\"maxSupply\":\"210000000.0000000000000000\",\"marketCapUsd\":\"19743172.9953948187135084\",\"volumeUsd24Hr\":\"553073.8901689137347937\",\"priceUsd\":\"0.2676296480686213\",\"changePercent24Hr\":\"5.1778153264723787\",\"vwap24Hr\":\"0.2599455383379359\"},{\"id\":\"tierion\",\"rank\":\"97\",\"symbol\":\"TNT\",\"name\":\"Tierion\",\"supply\":\"428481269.4994200000000000\",\"maxSupply\":null,\"marketCapUsd\":\"19735645.2772098470714396\",\"volumeUsd24Hr\":\"304509.6549664827971088\",\"priceUsd\":\"0.0460595285769815\",\"changePercent24Hr\":\"1.1169579866342439\",\"vwap24Hr\":\"0.0460701485056211\"},{\"id\":\"project-pai\",\"rank\":\"98\",\"symbol\":\"PAI\",\"name\":\"Project Pai\",\"supply\":\"1449739862.0000000000000000\",\"maxSupply\":null,\"marketCapUsd\":\"18924818.2919071633418620\",\"volumeUsd24Hr\":\"1026878.1984421074293813\",\"priceUsd\":\"0.0130539407710010\",\"changePercent24Hr\":\"4.3559425722315431\",\"vwap24Hr\":\"0.0127232102519883\"},{\"id\":\"populous\",\"rank\":\"99\",\"symbol\":\"PPT\",\"name\":\"Populous\",\"supply\":\"53252245.9943896000000000\",\"maxSupply\":\"53252246.0000000000000000\",\"marketCapUsd\":\"18494407.9523097275436514\",\"volumeUsd24Hr\":\"349576.3380663732200163\",\"priceUsd\":\"0.3472981769493480\",\"changePercent24Hr\":\"3.1346001611536872\",\"vwap24Hr\":\"0.3458893182089157\"},{\"id\":\"gochain\",\"rank\":\"100\",\"symbol\":\"GO\",\"name\":\"GoChain\",\"supply\":\"894546190.5819620000000000\",\"maxSupply\":null,\"marketCapUsd\":\"17786980.0131527208581856\",\"volumeUsd24Hr\":\"3133024.6048842164281200\",\"priceUsd\":\"0.0198838027599012\",\"changePercent24Hr\":\"-0.8662290835237283\",\"vwap24Hr\":\"0.0197646401455992\"}],\"timestamp\":1579610112545}"

            println(json)
            val data = JSONObject(json).getJSONArray("data");
            for (i in 0 until data.length()) {
                val info: JSONObject = data.getJSONObject(i)
                list.add(Crypto(info.getString("id"), info.getString("name"), info.getString("symbol"), info.getDouble("priceUsd"), info.getInt("rank")))
            }

        } catch (e: IOException) {
            println("Error: cannot access content - $e")
        } catch (e: URISyntaxException) {
            println("Error: Invalid URL $e")
        }
        println(list)
        return list
    }


    @Throws(URISyntaxException::class, IOException::class)
    fun makeAPICall(uri: String, parameters: List<NameValuePair>): String {
        var responseContent = ""

        val query = URIBuilder(uri)
        query.addParameters(parameters)

        val client = HttpClients.createDefault()
        val request = HttpGet(query.build())
        val response = client.execute(request)

        try {
            println(response.statusLine)
            val entity = response.entity
            responseContent = EntityUtils.toString(entity)
            EntityUtils.consume(entity)
        } finally {

        }
        return responseContent
    }


}